{
  "info": {
    "name": "NodsApp API Collection",
    "description": "Complete API collection for NodsApp SMS sending application",
    "version": "1.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8800",
      "type": "string"
    },
    {
      "key": "authToken",
      "value": "",
      "type": "string"
    }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{authToken}}",
        "type": "string"
      }
    ]
  },
  "item": [
    {
      "name": "Health Check",
      "item": [
        {
          "name": "Test Server",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/test-nods",
              "host": ["{{baseUrl}}"],
              "path": ["test-nods"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Register User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"john_doe\",\n  \"email\": \"john@example.com\",\n  \"password\": \"password123\",\n  \"phone\": \"+1234567890\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "register"]
            }
          },
          "response": []
        },
        {
          "name": "Login User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"john@example.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "login"]
            }
          },
          "response": []
        },
        {
          "name": "Verify OTP",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"john@example.com\",\n  \"otp\": \"123456\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/verify-otp",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "verify-otp"]
            }
          },
          "response": []
        },
        {
          "name": "Forgot Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"john@example.com\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/forgot-password",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "forgot-password"]
            }
          },
          "response": []
        },
        {
          "name": "Reset Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"john@example.com\",\n  \"otp\": \"123456\",\n  \"newPassword\": \"newpassword123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/reset-password",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "reset-password"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "User Management",
      "item": [
        {
          "name": "Send Message",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone\": \"+1234567890\",\n  \"message\": \"Hello, this is a test message!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/user/send-message",
              "host": ["{{baseUrl}}"],
              "path": ["api", "user", "send-message"]
            }
          },
          "response": []
        },
        {
          "name": "Send Message to Group",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"groupId\": \"group-id-here\",\n  \"message\": \"Hello group members!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/user/send-message-to-group",
              "host": ["{{baseUrl}}"],
              "path": ["api", "user", "send-message-to-group"]
            }
          },
          "response": []
        },
        {
          "name": "Get All Chats",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/user/chats",
              "host": ["{{baseUrl}}"],
              "path": ["api", "user", "chats"]
            }
          },
          "response": []
        },
        {
          "name": "Get Messages by Phone",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/user/message/+1234567890",
              "host": ["{{baseUrl}}"],
              "path": ["api", "user", "message", "+1234567890"]
            }
          },
          "response": []
        },
        {
          "name": "Verify Receipt",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"receiptData\": \"base64-encoded-receipt-data\",\n  \"productId\": \"com.nodsapp.premium\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/user/verify-receipt",
              "host": ["{{baseUrl}}"],
              "path": ["api", "user", "verify-receipt"]
            }
          },
          "response": []
        },
        {
          "name": "Change Username",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"new_username\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/user/profile/change-username",
              "host": ["{{baseUrl}}"],
              "path": ["api", "user", "profile", "change-username"]
            }
          },
          "response": []
        },
        {
          "name": "Update Password",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"currentPassword\": \"oldpassword123\",\n  \"newPassword\": \"newpassword123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/user/profile/update-password",
              "host": ["{{baseUrl}}"],
              "path": ["api", "user", "profile", "update-password"]
            }
          },
          "response": []
        },
        {
          "name": "Delete User",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/user/profile/delete",
              "host": ["{{baseUrl}}"],
              "path": ["api", "user", "profile", "delete"]
            }
          },
          "response": []
        },
        {
          "name": "Contact Us",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"John Doe\",\n  \"email\": \"john@example.com\",\n  \"subject\": \"Support Request\",\n  \"message\": \"I need help with my account.\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/user/contact-us",
              "host": ["{{baseUrl}}"],
              "path": ["api", "user", "contact-us"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Group Management",
      "item": [
        {
          "name": "Create Group",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"My Group\",\n  \"description\": \"A group for my contacts\",\n  \"contacts\": [\n    {\n      \"name\": \"John Doe\",\n      \"phone\": \"+1234567890\",\n      \"email\": \"john@example.com\"\n    },\n    {\n      \"name\": \"Jane Smith\",\n      \"phone\": \"+0987654321\",\n      \"email\": \"jane@example.com\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/groups",
              "host": ["{{baseUrl}}"],
              "path": ["api", "groups"]
            }
          },
          "response": []
        },
        {
          "name": "Get User Groups",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/groups",
              "host": ["{{baseUrl}}"],
              "path": ["api", "groups"]
            }
          },
          "response": []
        },
        {
          "name": "Get Group by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/groups/:groupId",
              "host": ["{{baseUrl}}"],
              "path": ["api", "groups", ":groupId"],
              "variable": [
                {
                  "key": "groupId",
                  "value": "group-id-here"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Group",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Group Name\",\n  \"description\": \"Updated description\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/groups/:groupId",
              "host": ["{{baseUrl}}"],
              "path": ["api", "groups", ":groupId"],
              "variable": [
                {
                  "key": "groupId",
                  "value": "group-id-here"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete Group",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/groups/:groupId",
              "host": ["{{baseUrl}}"],
              "path": ["api", "groups", ":groupId"],
              "variable": [
                {
                  "key": "groupId",
                  "value": "group-id-here"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Add Contacts to Group",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contacts\": [\n    {\n      \"name\": \"New Contact\",\n      \"phone\": \"+1111111111\",\n      \"email\": \"new@example.com\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/groups/:groupId/contacts",
              "host": ["{{baseUrl}}"],
              "path": ["api", "groups", ":groupId", "contacts"],
              "variable": [
                {
                  "key": "groupId",
                  "value": "group-id-here"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Remove Contact from Group",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/groups/:groupId/contacts/:contactId",
              "host": ["{{baseUrl}}"],
              "path": ["api", "groups", ":groupId", "contacts", ":contactId"],
              "variable": [
                {
                  "key": "groupId",
                  "value": "group-id-here"
                },
                {
                  "key": "contactId",
                  "value": "contact-id-here"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Saved Groups",
      "item": [
        {
          "name": "Create Saved Group",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Saved Group\",\n  \"description\": \"A saved group for quick access\",\n  \"contacts\": [\n    {\n      \"name\": \"John Doe\",\n      \"phone\": \"+1234567890\",\n      \"email\": \"john@example.com\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/saved-groups",
              "host": ["{{baseUrl}}"],
              "path": ["api", "saved-groups"]
            }
          },
          "response": []
        },
        {
          "name": "Get Saved Groups",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/saved-groups",
              "host": ["{{baseUrl}}"],
              "path": ["api", "saved-groups"]
            }
          },
          "response": []
        },
        {
          "name": "Update Saved Group",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Saved Group\",\n  \"description\": \"Updated description\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/saved-groups/:id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "saved-groups", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "saved-group-id-here"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete Saved Group",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/saved-groups/:id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "saved-groups", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "saved-group-id-here"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Add Contact to Saved Group",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"New Contact\",\n  \"phone\": \"+1111111111\",\n  \"email\": \"new@example.com\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/saved-groups/:id/contacts",
              "host": ["{{baseUrl}}"],
              "path": ["api", "saved-groups", ":id", "contacts"],
              "variable": [
                {
                  "key": "id",
                  "value": "saved-group-id-here"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Remove Contact from Saved Group",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/saved-groups/:id/contacts/:contactId",
              "host": ["{{baseUrl}}"],
              "path": ["api", "saved-groups", ":id", "contacts", ":contactId"],
              "variable": [
                {
                  "key": "id",
                  "value": "saved-group-id-here"
                },
                {
                  "key": "contactId",
                  "value": "contact-id-here"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Stripe Payment",
      "item": [
        {
          "name": "Save Card and Create Customer",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"paymentMethodId\": \"pm_card_visa\",\n  \"email\": \"customer@example.com\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/stripe/save-card",
              "host": ["{{baseUrl}}"],
              "path": ["api", "stripe", "save-card"]
            }
          },
          "response": []
        },
        {
          "name": "Get User Cards",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/stripe/cards",
              "host": ["{{baseUrl}}"],
              "path": ["api", "stripe", "cards"]
            }
          },
          "response": []
        },
        {
          "name": "Set Default Payment Method",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"paymentMethodId\": \"pm_card_visa\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/stripe/set-default-payment-method",
              "host": ["{{baseUrl}}"],
              "path": ["api", "stripe", "set-default-payment-method"]
            }
          },
          "response": []
        },
        {
          "name": "Fetch and Save Products",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/stripe/fetch-and-save-products",
              "host": ["{{baseUrl}}"],
              "path": ["api", "stripe", "fetch-and-save-products"]
            }
          },
          "response": []
        },
        {
          "name": "Get Products and Prices",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/stripe/products",
              "host": ["{{baseUrl}}"],
              "path": ["api", "stripe", "products"]
            }
          },
          "response": []
        },
        {
          "name": "Subscribe to Plan",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"priceId\": \"price_1234567890\",\n  \"paymentMethodId\": \"pm_card_visa\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/stripe/subscribe",
              "host": ["{{baseUrl}}"],
              "path": ["api", "stripe", "subscribe"]
            }
          },
          "response": []
        },
        {
          "name": "Get User Subscriptions",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/stripe/subscriptions",
              "host": ["{{baseUrl}}"],
              "path": ["api", "stripe", "subscriptions"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Card",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/stripe/delete-card/:cardId",
              "host": ["{{baseUrl}}"],
              "path": ["api", "stripe", "delete-card", ":cardId"],
              "variable": [
                {
                  "key": "cardId",
                  "value": "card-id-here"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "File Upload",
      "item": [
        {
          "name": "Single File Upload",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": []
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/api/upload/file",
              "host": ["{{baseUrl}}"],
              "path": ["api", "upload", "file"]
            }
          },
          "response": []
        },
        {
          "name": "Multiple File Upload",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": []
                },
                {
                  "key": "file",
                  "type": "file",
                  "src": []
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/api/upload/files",
              "host": ["{{baseUrl}}"],
              "path": ["api", "upload", "files"]
            }
          },
          "response": []
        }
      ]
    }
  ]
}
